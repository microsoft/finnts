<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Models Used in finnts • finnts</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Models Used in finnts">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6X0DS5856B"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6X0DS5856B');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">finnts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/finnts.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ai-agent.html">AI Agent Capabilities</a>
    </li>
    <li>
      <a href="../articles/back-testing-and-hyperparameter-tuning.html">Back Testing and Hyperparameter Tuning</a>
    </li>
    <li>
      <a href="../articles/best-model-selection.html">Best Model Selection</a>
    </li>
    <li>
      <a href="../articles/external-regressors.html">External Regressors</a>
    </li>
    <li>
      <a href="../articles/feature-engineering.html">Feature Engineering</a>
    </li>
    <li>
      <a href="../articles/feature-selection.html">Feature Selection</a>
    </li>
    <li>
      <a href="../articles/forecast-components.html">Using Individual finnts Forecast Components</a>
    </li>
    <li>
      <a href="../articles/hierarchical-forecasting.html">Hierarchical Forecasting</a>
    </li>
    <li>
      <a href="../articles/models-used-in-finnts.html">Models Used in finnts</a>
    </li>
    <li>
      <a href="../articles/parallel-processing.html">Parallel Processing</a>
    </li>
    <li>
      <a href="../articles/tips-for-production.html">Tips for Production</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/microsoft/finnts/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><script src="models-used-in-finnts_files/core-js-2.5.3/shim.min.js"></script><script src="models-used-in-finnts_files/react-18.2.0/react.min.js"></script><script src="models-used-in-finnts_files/react-18.2.0/react-dom.min.js"></script><script src="models-used-in-finnts_files/reactwidget-2.0.0/react-tools.js"></script><link href="models-used-in-finnts_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="models-used-in-finnts_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="models-used-in-finnts_files/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="models-used-in-finnts_files/reactable-binding-0.4.4/reactable.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Models Used in finnts</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/microsoft/finnts/blob/main/vignettes/models-used-in-finnts.Rmd" class="external-link"><code>vignettes/models-used-in-finnts.Rmd</code></a></small>
      <div class="hidden name"><code>models-used-in-finnts.Rmd</code></div>

    </div>

    
    
<div class="reactable html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Model":["arima","arima-boost","arimax","cubist","croston","ets","glmnet","mars","meanf","nnetar","nnetar-xregs","prophet","prophet-boost","prophet-xregs","snaive","stlm-arima","stlm-ets","svm-poly","svm-rbf","tbats","theta","xgboost"],"Type":["univariate, local","multivariate, local","multivariate, local","multivariate, local, ensemble","univariate, local","univariate, local","multivariate, local, ensemble","multivariate, local","univariate, local","univariate, local","multivariate, local","univariate, local","multivariate, local","multivariate, local","univariate, local","univariate, local","univariate, local","multivariate, local, ensemble","multivariate, local, ensemble","univariate, local","univariate, local","multivariate, local, global, ensemble"],"Underlying.Package":["modeltime, forecast","modeltime, forecast, xgboost","modeltime, forecast","rules","modeltime, forecast","modeltime, forecast","parsnip, glmnet","parsnip, earth","modeltime, forecast","modeltime, forecast","modeltime, forecast","modeltime, prophet","modeltime, prophet, xgboost","modeltime, prophet","modeltime, forecast","modeltime, forecast","modeltime, forecast","parsnip, kernlab","parsnip, kernlab","modeltime, forecast","modeltime, forecast","parsnip, xgboost"],"Description":["Regression model that is based on finding relationships between lagged values of the target variable you are trying to forecast.","Arima model (refer to arima) that models the trend compoent of target variable, then uses xgboost model (refer to xgboost) to train on the remaining residuals.","ARIMA model that incorporates external regressors and other engineered features.","Hybrid of tree based and linear regression approach. Many decision trees are built, but regression coefficients are used at each terminal node instead of averging values in other tree based approaches.","Useful for intermittent demand forecasting, aka when there are a lot of periods of zero values. Involves simple exponential smoothing on non-zero values of target variable and another application of seasonal exponential smoothing on periods between non-zero elements of the target variable. Refer to ets for more details on exponential smoothing.","Forecasts produced using exponential smoothing methods are weighted averages of past observations, with the weights decaying exponentially as the observations get older. Exponential smoothing models try to forecast the components of a time series which can be broken down in to error, trend, and seasonality. These components can be forecasted separately then either added or multiplied together to get the final forecast output.","Linear regression (line of best fit) with regularization to help prevent overfitting and built in variable selection.","An extension to linear regression that captures nonlinearities and interactions between variables.","Simple average of previous year of target variable values.","A neural network autoregression model is a traditional feed forward neural network (sometimes called an perceptron) that is fed by lagged values of the historical data set (similar to ARIMA).","Same approach as nnetar but can incorporate other features in addition to the target variable, like external regressors and date features.","Developed by Facebook, it's based on a generalized additive model (GAM): GAMs are simply a class of statistical Models in which the usual linear relationship between the target variable and predictors are replaced by several non linear smooth functions to model and capture the non linearities in the data.","Prophet model (refer to prophet) that models the trend compoent of target variable, then uses xgboost model (refer to xgboost) to train on the remaining residuals.","Prophet model that incorporates external regressors and other engineered features.","Simple model that takes the value from the same period in the previous year.","Applies an STL decomposition (breaks out target variable into seasonal, trend, and error/residual/remainder components), models the seasonally adjusted data, reseasonalizes, and returns the forecasts. An arima model (refer to arima) is used in forecasting the seasonaly adjusted data.","Applies an STL decomposition (breaks out target variable into seasonal, trend, and error/residual/remainder components), models the seasonally adjusted data, reseasonalizes, and returns the forecasts. An ets model (refer to ets) is used in forecasting the seasonaly adjusted data.","Uses a nonlinear function, specifically a polynomial function, to create a regression line of the target variable.","Uses a nonlinear function, specifically a radial basis function, to create a regression line of the target variable.","A spin off of the traditional ets model (refer to ets), with some additional components to capture multiple seasonalities.","Theta is similar to exponential smoothing (refer to ets) but with another component called drift. Adding drift to exponential smoothing allows the forecast to increase or decrease over time, where the amount of change over time (called the drift) is set to be the average change seen within the historical data.","Builds many decision trees (similar to random forests), but predictions that are initially inaccurate are applied more weight in subsequent training rounds to increase accuracy across all predictions."]},"columns":[{"id":"Model","name":"Model","type":"character","cell":["arima","arima-boost","arimax","cubist","croston","ets","glmnet","mars","meanf","nnetar","nnetar-xregs","prophet","prophet-boost","prophet-xregs","snaive","stlm-arima","stlm-ets","svm-poly","svm-rbf","tbats","theta","xgboost"],"header":"Model","minWidth":70,"align":"center","headerStyle":{"background":"#f7f7f8"}},{"id":"Type","name":"Type","type":"character","cell":["univariate, local","multivariate, local","multivariate, local","multivariate, local, ensemble","univariate, local","univariate, local","multivariate, local, ensemble","multivariate, local","univariate, local","univariate, local","multivariate, local","univariate, local","multivariate, local","multivariate, local","univariate, local","univariate, local","univariate, local","multivariate, local, ensemble","multivariate, local, ensemble","univariate, local","univariate, local","multivariate, local, global, ensemble"],"header":"Type","minWidth":70,"align":"center","headerStyle":{"background":"#f7f7f8"}},{"id":"Underlying.Package","name":"Underlying.Package","type":"character","cell":["modeltime, forecast","modeltime, forecast, xgboost","modeltime, forecast","rules","modeltime, forecast","modeltime, forecast","parsnip, glmnet","parsnip, earth","modeltime, forecast","modeltime, forecast","modeltime, forecast","modeltime, prophet","modeltime, prophet, xgboost","modeltime, prophet","modeltime, forecast","modeltime, forecast","modeltime, forecast","parsnip, kernlab","parsnip, kernlab","modeltime, forecast","modeltime, forecast","parsnip, xgboost"],"header":"Underlying Package","minWidth":70,"align":"center","headerStyle":{"background":"#f7f7f8"}},{"id":"Description","name":"Description","type":"character","cell":["Regression model that is based on finding relationships between lagged values of the target variable you are trying to forecast.","Arima model (refer to arima) that models the trend compoent of target variable, then uses xgboost model (refer to xgboost) to train on the remaining residuals.","ARIMA model that incorporates external regressors and other engineered features.","Hybrid of tree based and linear regression approach. Many decision trees are built, but regression coefficients are used at each terminal node instead of averging values in other tree based approaches.","Useful for intermittent demand forecasting, aka when there are a lot of periods of zero values. Involves simple exponential smoothing on non-zero values of target variable and another application of seasonal exponential smoothing on periods between non-zero elements of the target variable. Refer to ets for more details on exponential smoothing.","Forecasts produced using exponential smoothing methods are weighted averages of past observations, with the weights decaying exponentially as the observations get older. Exponential smoothing models try to forecast the components of a time series which can be broken down in to error, trend, and seasonality. These components can be forecasted separately then either added or multiplied together to get the final forecast output.","Linear regression (line of best fit) with regularization to help prevent overfitting and built in variable selection.","An extension to linear regression that captures nonlinearities and interactions between variables.","Simple average of previous year of target variable values.","A neural network autoregression model is a traditional feed forward neural network (sometimes called an perceptron) that is fed by lagged values of the historical data set (similar to ARIMA).","Same approach as nnetar but can incorporate other features in addition to the target variable, like external regressors and date features.","Developed by Facebook, it's based on a generalized additive model (GAM): GAMs are simply a class of statistical Models in which the usual linear relationship between the target variable and predictors are replaced by several non linear smooth functions to model and capture the non linearities in the data.","Prophet model (refer to prophet) that models the trend compoent of target variable, then uses xgboost model (refer to xgboost) to train on the remaining residuals.","Prophet model that incorporates external regressors and other engineered features.","Simple model that takes the value from the same period in the previous year.","Applies an STL decomposition (breaks out target variable into seasonal, trend, and error/residual/remainder components), models the seasonally adjusted data, reseasonalizes, and returns the forecasts. An arima model (refer to arima) is used in forecasting the seasonaly adjusted data.","Applies an STL decomposition (breaks out target variable into seasonal, trend, and error/residual/remainder components), models the seasonally adjusted data, reseasonalizes, and returns the forecasts. An ets model (refer to ets) is used in forecasting the seasonaly adjusted data.","Uses a nonlinear function, specifically a polynomial function, to create a regression line of the target variable.","Uses a nonlinear function, specifically a radial basis function, to create a regression line of the target variable.","A spin off of the traditional ets model (refer to ets), with some additional components to capture multiple seasonalities.","Theta is similar to exponential smoothing (refer to ets) but with another component called drift. Adding drift to exponential smoothing allows the forecast to increase or decrease over time, where the amount of change over time (called the drift) is set to be the average change seen within the historical data.","Builds many decision trees (similar to random forests), but predictions that are initially inaccurate are applied more weight in subsequent training rounds to increase accuracy across all predictions."],"header":"Description","minWidth":140,"align":"left","headerStyle":{"background":"#f7f7f8"}}],"highlight":true,"bordered":true,"dataKey":"2480587aad3583e3962c46c961db2ac7"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script><div class="section level3">
<h3 id="univariate-vs-multivariate-models">Univariate vs Multivariate Models<a class="anchor" aria-label="anchor" href="#univariate-vs-multivariate-models"></a>
</h3>
<ul>
<li><p><strong>Univariate models</strong> only use the date and target
variable values when producing a forecast. They are mostly common on
various statistical forecasting models like arima and ets.</p></li>
<li><p><strong>Multivariate models</strong> leverage many features when
producing a forecast, provided as input data before model training.
These features can be automatically created using internal feature
engineering techniques within the package, or provided as external
regressors. Most common machine learning models today, like xgboost and
cubist, are multivariate models. An important thing to note is that
multivariate models provided in the package can leverage different
recipes of feature engineering, that contain different techniques of
creating features. These can be identified by seeing the letter “R”
followed by a number like “1” or “2”. More info can be found in the
feature engineering vignette.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="global-vs-local-models">Global vs Local Models<a class="anchor" aria-label="anchor" href="#global-vs-local-models"></a>
</h3>
<ul>
<li><p><strong>Global models</strong> take the entire data set across
all individual time series and model them all at once within a single
model. Global models are only ran if the input data contains more than
one individual time series.</p></li>
<li><p><strong>Local models</strong> take each individual time series
from the input data and model them separately.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="ensemble-models">Ensemble Models<a class="anchor" aria-label="anchor" href="#ensemble-models"></a>
</h3>
<p>Ensemble models are trained on predictions made by individual models.
For example, a glmnet ensemble model takes forecasts made by each
individual model and feeds them as training data into a glmnet
model.</p>
</div>
<div class="section level3">
<h3 id="multistep-horizon-models">Multistep Horizon Models<a class="anchor" aria-label="anchor" href="#multistep-horizon-models"></a>
</h3>
<p>By default within <code><a href="../reference/prep_models.html">prep_models()</a></code>, the
<code>multistep_horizon</code> argument is set to FALSE. If set to TRUE,
a multistep horizon approach is taken for specific multivariate models
trained on the R1 feature engineering recipe. Below are the models that
can run as multistep.</p>
<ul>
<li>cubist</li>
<li>glmnet</li>
<li>mars</li>
<li>svm_poly</li>
<li>svm-rbf</li>
<li>xgboost</li>
</ul>
<p>A multistep model optimizes for each period in a forecast horizon.
Let’s take an example of a monthly data set with a forecast horizon of
3. When creating the features for the R1 recipe, finnts will create lags
of 1, 2, 3, 6, 9, 12 months. Then when training a multistep model it
will iteratively use specific features to train the model. First it will
train a model on the first forecast horizon (H1), where it will use all
available feature lags. Then for H2 it will use lags of 2 or more.
Finally for H3 it will use lags of 3 or more. So the final model is
actually a collection of multiple models that each trained on a specific
horizon. This lets the model optimize for using all available data when
creating the forecast. So in our example, one glmnet model actually has
three separate horizon specific models under the hood.</p>
<p>A few more things to mention. If <code>multistep_horizon</code> is
TRUE then other multivariate models like arima-boost or prophet-xregs
will not run a multistep horizon approach. Instead they will use lags
that are equal to or greater than the forecast horizon. One set of
hyperparameters will be chosen for each multistep model, meaning glmnet
will only use one combination of final hyperparameters and apply it to
each horizon model. Multistep models are not ran for the R2 recipe,
since it has it’s own way of dealing with multiple horizons. Finally if
<code>feature_selection</code> is turned on, it will be ran for each
horizon specific model, meaning for a 3 month forecast horizon the
feature selection process will be ran 3 times. One for each combination
of features tied to a specific horizon.</p>
</div>
<div class="section level2">
<h2 id="leveraging-the-tidymodels-framework">Leveraging the Tidymodels Framework<a class="anchor" aria-label="anchor" href="#leveraging-the-tidymodels-framework"></a>
</h2>
<p>Most of the models within the package are built on a fantastic time
series library called <a href="https://business-science.github.io/modeltime/" class="external-link">modeltime</a>,
which was built on top <a href="https://www.tidymodels.org/" class="external-link">tidymodels</a>. Tidymodels is a
fantastic series of packages that help in feature engineering (recipes),
hyperparameter tuning (tune), model training (parsnip), and back testing
(resample). Big shout out to the modeltime and tidymodels teams for
being the shoulders this package stands on!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://www.linkedin.com/in/michaeltokic/" class="external-link">Mike Tokic</a>, <a href="https://aadharshkannan.com/" class="external-link">Aadharsh Kannan</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
